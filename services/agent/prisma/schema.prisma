datasource db {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model Doc {
  id        String                   @id @default(uuid()) @db.Uuid
  type      DocType
  title     String                   @db.VarChar(255)
  vector    Unsupported("TSVECTOR")? @default(dbgenerated())
  data      Json                     @db.JsonB
  createdAt DateTime
  updatedAt DateTime

  @@index([vector], type: Gin)
}

enum DocType {
  DATABASE
  PAGE
  COMMENT
}
